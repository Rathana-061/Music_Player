<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Dashboard</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            min-height: 100vh;
            background: #0f0f1e;
            color: #fff;
            display: flex;
            overflow: hidden;
        }

        /* Left Sidebar */
        .sidebar {
            width: 280px;
            background: linear-gradient(to bottom, #1a1a2e, #16213e);
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            gap: 40px;
            border-right: 1px solid #222;
        }

        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .profile-pic {
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            font-weight: bold;
            margin-bottom: 16px;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }

        .user-greeting {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .premium-badge {
            background: linear-gradient(90deg, #9b59b6, #71b7e6);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        /* Navigation Menu */
        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .nav-item {
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            background: rgba(155, 89, 182, 0.3);
            font-weight: 600;
        }

        .logout-btn {
            margin-top: auto;
            padding: 12px 30px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Main Layout */
        .main-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .top-bar {
            padding: 30px 30px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .top-bar h1 {
            font-size: 28px;
        }

        .search-bar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 12px 20px;
            width: 320px;
            border: none;
            color: #fff;
            font-size: 15px;
            outline: none;
        }

        .search-bar::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .content-wrapper {
            flex: 1;
            padding: 0 30px 30px;
            overflow-y: auto;
            display: flex;
            gap: 30px;
        }

        .left-content {
            flex: 1;
            min-width: 0;
        }

        .right-content {
            width: 380px;
            flex-shrink: 0;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            padding: 20px;
            align-self: start;
            position: sticky;
            top: 20px;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        /* Section Common */
        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .see-other {
            font-size: 14px;
            color: #71b7e6;
            cursor: pointer;
        }

        /* Albums Grid */
        .albums-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 60px;
        }

        .album-item {
            cursor: pointer;
            transition: transform 0.3s;
        }

        .album-item:hover {
            transform: scale(1.05);
        }

        .album-cover {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 16px;
            margin-bottom: 12px;
            background: #333;
        }

        .album-title {
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .album-artist {
            font-size: 13px;
            opacity: 0.7;
        }

        /* Right Recent (Play Queue Style) */
        .recent-right-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }

        .recent-right-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .recent-right-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            transition: background 0.3s;
        }

        .recent-right-item:hover {
            background: rgba(255, 255, 255, 0.12);
        }

        .recent-right-cover {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background: #333;
            flex-shrink: 0;
        }

        .recent-right-info {
            flex: 1;
        }

        .recent-right-song {
            font-size: 15px;
            font-weight: 500;
        }

        .recent-right-artist {
            font-size: 13px;
            opacity: 0.7;
        }

        .recent-right-duration {
            font-size: 14px;
            opacity: 0.7;
            margin-left: auto;
        }

        .recent-right-heart {
            font-size: 18px;
            opacity: 0.6;
            margin-left: 12px;
        }

        /* Hidden content sections */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Playlist UI */
        .section-title {
            font-size: 22px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px
        }

        .add-btn {
            background: #9b59b6;
            border: none;
            padding: 6px 14px;
            border-radius: 20px;
            color: #fff;
            cursor: pointer
        }

        .playlist-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 12px
        }

        .playlist-item {
            background: rgba(255, 255, 255, .08);
            padding: 14px 18px;
            border-radius: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: grab
        }

        .playlist-item.dragging {
            opacity: .4
        }

        .playlist-actions button {
            background: none;
            border: none;
            color: #71b7e6;
            cursor: pointer;
            margin-left: 10px
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <div class="profile-section">
            <div class="profile-pic" id="profilePic">S</div>
            <div class="user-greeting" id="userName">Hello, Susan! ðŸ‘‹</div>
            <!-- <div class="premium-badge">Premium</div> -->
        </div>

        <div class="nav-menu">
            <div class="nav-item active" data-section="your-zone">Your Zone</div>
            <div class="nav-item" data-section="radio">Radio FM</div>
            <div class="nav-item" data-section="liked">Liked</div>
            <div class="nav-item" data-section="my-playlist">My Playlist</div>
            <div class="nav-item" data-section="your-list">Your List</div>
        </div>

        <button class="logout-btn" onclick="logout()">Logout</button>
    </div>

    <div class="main-area">
        <div class="top-bar">
            <h1 id="page-title">Featured</h1>
            <input type="text" class="search-bar" placeholder="Search songs, artists...">
        </div>

        <div class="content-wrapper">
            <div class="left-content">
                <!-- Your Zone (Home) -->
                <div id="your-zone" class="content-section active">
                    <div class="section-title">
                        Albums
                        <span class="see-other">See Other</span>
                    </div>
                    <div class="albums-grid">
                        <div class="album-item">
                            <div class="album-cover" style="background: linear-gradient(135deg, #ff69b4, #ff1493);">
                            </div>
                            <div class="album-title">Angel Of Evil</div>
                            <div class="album-artist">Kuo Zhi Jian</div>
                        </div>
                        <div class="album-item">
                            <div class="album-cover" style="background: linear-gradient(135deg, #40e0d0, #20b2aa);">
                            </div>
                            <div class="album-title">The Sky</div>
                            <div class="album-artist">Luo</div>
                        </div>
                        <div class="album-item">
                            <div class="album-cover" style="background: linear-gradient(135deg, #da70d6, #ee82ee);">
                            </div>
                            <div class="album-title">Love Story</div>
                            <div class="album-artist">Tabor Swift</div>
                        </div>
                        <div class="album-item">
                            <div class="album-cover" style="background: linear-gradient(135deg, #ffa500, #ff6347);">
                            </div>
                            <div class="album-title">Cow</div>
                            <div class="album-artist">Miah Marcusa</div>
                        </div>
                        <div class="album-item">
                            <div class="album-cover" style="background: linear-gradient(135deg, #9370db, #ba55d3);">
                            </div>
                            <div class="album-title">For You</div>
                            <div class="album-artist">Xie Ting Feng</div>
                        </div>
                        <div class="album-item">
                            <div class="album-cover" style="background: linear-gradient(135deg, #32cd32, #228b22);">
                            </div>
                            <div class="album-title">Jungle</div>
                            <div class="album-artist">Linda Liu</div>
                        </div>
                    </div>
                </div>

                <!-- Other sections (placeholder) -->
                <div id="radio" class="content-section">
                    <h2 style="font-size: 32px; text-align: center; margin-top: 100px;">Radio FM Stations Coming Soon...
                    </h2>
                </div>

                <div id="liked" class="content-section">
                    <h2 style="font-size: 32px; text-align: center; margin-top: 100px;">Your Liked Songs</h2>
                </div>

                <!-- MY PLAYLIST -->
                <div id="my-playlist" class="content-section">
                    <div class="section-title">
                        My Playlist
                        <button class="add-btn" onclick="addPlaylist('my')">+ Create</button>
                    </div>
                    <ul id="my-list" class="playlist-list"></ul>
                </div>
                <div id="your-list" class="content-section">
                    <h2 style="font-size: 32px; text-align: center; margin-top: 100px;">Your Custom List</h2>
                </div>
            </div>

            <!-- Right Sidebar: Recent / Play Queue (always visible) -->
            <div class="right-content">
                <div class="recent-right-title">Recent</div>
                <div class="recent-right-list">
                    <div class="recent-right-item">
                        <div class="recent-right-cover" style="background: linear-gradient(135deg, #ff69b4, #ff1493);">
                        </div>
                        <div class="recent-right-info">
                            <div class="recent-right-song">Always you</div>
                            <div class="recent-right-artist">Four Years Strong</div>
                        </div>
                        <div class="recent-right-duration">3:42</div>
                        <div class="recent-right-heart">â™¡</div>
                    </div>

                    <div class="recent-right-item">
                        <div class="recent-right-cover" style="background: linear-gradient(135deg, #40e0d0, #20b2aa);">
                        </div>
                        <div class="recent-right-info">
                            <div class="recent-right-song">But now sad</div>
                            <div class="recent-right-artist">Warkin Singer</div>
                        </div>
                        <div class="recent-right-duration">4:23</div>
                        <div class="recent-right-heart">â™¡</div>
                    </div>

                    <div class="recent-right-item">
                        <div class="recent-right-cover" style="background: linear-gradient(135deg, #ff4500, #ff8c00);">
                        </div>
                        <div class="recent-right-info">
                            <div class="recent-right-song">Come here</div>
                            <div class="recent-right-artist">Day Singer</div>
                        </div>
                        <div class="recent-right-duration">2:22</div>
                        <div class="recent-right-heart">â™¡</div>
                    </div>

                    <div class="recent-right-item">
                        <div class="recent-right-cover" style="background: linear-gradient(135deg, #9932cc, #da70d6);">
                        </div>
                        <div class="recent-right-info">
                            <div class="recent-right-song">Finally with you</div>
                            <div class="recent-right-artist">Get Singer</div>
                        </div>
                        <div class="recent-right-duration">3:52</div>
                        <div class="recent-right-heart">â™¡</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

        const userData = JSON.parse(localStorage.getItem('user'));

        if (!userData) {
            window.location.href = '../index.html';
        } else {
            // Extract first name
            const firstName = userData.name.split(' ')[0];
            document.getElementById('userName').textContent = `Hello, ${firstName}! ðŸ‘‹`;

            // Profile picture with first letter
            document.getElementById('profilePic').textContent = firstName.charAt(0).toUpperCase();
        }

        function logout() {
            // Optional: clear localStorage or keep user for next login
            // localStorage.removeItem('user');
            window.location.href = '../index.html';
        }


        // Sidebar navigation functionality
        const navItems = document.querySelectorAll('.nav-item');
        const contentSections = document.querySelectorAll('.content-section');
        const pageTitle = document.getElementById('page-title');

        const sectionTitles = {
            'your-zone': 'Featured',
            'radio': 'Radio FM',
            'liked': 'Liked Songs',
            'my-playlist': 'My Playlist',
            'your-list': 'Your List'
        };

        navItems.forEach(item => {
            item.addEventListener('click', () => {
                // Remove active class from all
                navItems.forEach(nav => nav.classList.remove('active'));
                contentSections.forEach(section => section.classList.remove('active'));

                // Add active to clicked
                item.classList.add('active');
                const sectionId = item.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');

                // Update page title
                pageTitle.textContent = sectionTitles[sectionId] || 'Music App';
            });
        });

        /* Playlist Logic */
        const STORAGE = 'playlists_data';
        let playlists = JSON.parse(localStorage.getItem(STORAGE)) || {
            liked: [], my: [], your: []
        };

        function save() { localStorage.setItem(STORAGE, JSON.stringify(playlists)); }

        function render(type) {
            const map = {
                liked: 'liked-list',
                my: 'my-list',
                your: 'your-list-ul'
            };
            const ul = document.getElementById(map[type]);
            ul.innerHTML = '';
            playlists[type].forEach((name, i) => {
                const li = document.createElement('li');
                li.className = 'playlist-item';
                li.draggable = true;
                li.dataset.index = i;
                li.innerHTML = `
            <span>${name}</span>
            <div class="playlist-actions">
            <button onclick="editPlaylist('${type}',${i})">Edit</button>
            <button onclick="deletePlaylist('${type}',${i})">Delete</button>
            </div>`;
                drag(li, type);
                ul.appendChild(li);
            });
        }

        function addPlaylist(type) {
            const name = prompt('Playlist name');
            if (!name) return;
            playlists[type].push(name);
            save(); render(type);
        }
        function editPlaylist(type, i) {
            const n = prompt('Edit name', playlists[type][i]);
            if (!n) return;
            playlists[type][i] = n;
            save(); render(type);
        }
        function deletePlaylist(type, i) {
            if (!confirm('Delete playlist?')) return;
            playlists[type].splice(i, 1);
            save(); render(type);
        }

        /* Drag & Drop */
        function drag(item, type) {
            item.addEventListener('dragstart', () => item.classList.add('dragging'));
            item.addEventListener('dragend', () => {
                item.classList.remove('dragging');
                save(); render(type);
            });
            item.addEventListener('dragover', e => e.preventDefault());
            item.addEventListener('drop', () => {
                const d = document.querySelector('.dragging');
                const from = d.dataset.index;
                const to = item.dataset.index;
                [playlists[type][from], playlists[type][to]] =
                    [playlists[type][to], playlists[type][from]];
            });
        }
    </script>
</body>

</html>